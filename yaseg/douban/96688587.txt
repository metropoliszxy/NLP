passive-interface

当EIGRP passive接口时,不会向外路由,也不会接收邻居发过来的路由.passive-interface 被动接口将不收也不发。所以根本无法和对端路由器建立邻居关系。router ospf 110  passive-interface loopback 接口将不收发Hello包在OSPF中启用了passive-interface的接口，则不会发送路由协议的数据包（如：Hello、DBD、LSU），这样即无法与其他路由器形成邻居关系，既然无法建立邻居，也就不能交换路由更新了。在rip中passive-interface 的作用是使路由器只接受更新不发送更新第一种是RIP与IGRP.这一种routing protocol的特色是不会与对方router建立关系. (你要说发生关系我也不反对…)所以, router是每隔一段时间,就会把routing information广播出去.这一类的routing protocol在使用passive-interface的时候,就会发生只听不送的状况.换句话说,只要routing protocol的process还在运作, routing update还是可以收进来,只不过因为passive-interface指令的关系, update会送不出去.所以,如果要阻止update送进router中,还要加上distribute-list来挡incoming update.这是第一种状态. 第二种状态是像OSPF, EIGRP,之类的routing protocol.这一种路由协定的特色是会与对方router建立关系.也就是说router之间会建neighbor.所以,一但下了passive-interface之后,你就断了router之间的关系. (Mmm…坏人姻缘,小心被众routers怨恨…)因为no relationship, no update.因此,所有的update送不出去,但是也收不进来.这是第二种状态第三种是ISIS.这是最奇怪的一种.有玩过的就知道, ISIS的routing command是下在interface mode而不是在routing mode.所以,如果要把一个网段加入,就下ip router isis指令.好了.问题是,如果我不要这个inteface收送isis routing update,但是又要这个interface所属的网段要加入ISIS的routing之中,那要怎样做???答案就是用passive-interface.当然,你也可以用redistribute connected的方式来做,但就是不如passive-interface的方式来的简洁.或者,你也可以笨笨的在interface下ip router isis,然后用distribute-list去挡
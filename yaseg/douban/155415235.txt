MySQL 5.5 InnoDB 表的外键约束

最近开始看《SQL Cookbook（中文版）》，（ISBN:978-7-302-15493-8）想创建前言第9页的2 个表做练习，怀疑这两个表是Oracle 数据库的范例，应为都有一行数据：EMPNO是7788，ENAME是Scott。第一次写的SQL如下，DROP TABLE IF EXISTS dept CASCADE;CREATE TABLE IF NOT EXISTS dept(        DEPTNO INT(2) UNSIGNED NOT NULL,PRIMARY KEY(deptno),        DNAME VARCHAR(20),        LOC VARCHAR(20))ENGINE=INNODB,DEFAULT CHARACTER SET=utf8;DROP TABLE IF EXISTS emp CASCADE;CREATE TABLE IF NOT EXISTS emp(        EMPNO INT(4) UNSIGNED NOT NULL,PRIMARY KEY(empno),        ENAME VARCHAR(20),        SEX CHAR(1) NOT NULL,        JOB VARCHAR(20),        MGR INT(4) UNSIGNED,        HIREDATE DATE,        SAL INT(9) UNSIGNED,        COMM INT(9) UNSIGNED,        DEPTNO INT(2) NOT NULL,FOREIGN KEY(deptno) REFERENCES dept(deptno)                ON DELETE CASCADE                ON UPDATE CASCADE)ENGINE=INNODB,DEFAULT CHARACTER SET=utf8;通过MySQL Workbench 运行报错“Error Code: 1005. Can't create table 'test.emp' (errno: 150)”，手册中说“如果MySQL从CREATE TABLE语句报告一个错误号1005，并且错误信息字符串指向errno 150，这意思是因为一个外键约束被不正确形成，表创建失败。”检查了一下发现表的外键类型，和引用表的字段类型不一样，于是把DEPTNO INT(2) NOT NULL,FOREIGN KEY(deptno) REFERENCES dept(deptno)                ON DELETE CASCADE                ON UPDATE CASCADE改为DEPTNO INT(2) UNSIGNED NOT NULL,FOREIGN KEY(deptno) REFERENCES dept(deptno)                ON DELETE CASCADE                ON UPDATE CASCADE执行了一下，正常。